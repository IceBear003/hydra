# Feature Test

#### 注

Feature Test，是一种通用的验证方式。从最基础的需求出发，一步一步细化，直到将生产中的各个情况考虑到。

## Case.1 写入

### 1.1 数据包写入前端缓冲区，解析控制帧并启动匹配

### 1.2 主模块为各个端口生成错位的匹配SRAM

### 1.3 每个端口预取匹配所需参数，匹配比较与替代过程

### 1.4匹配完成，启动传输数据到后端

### 1.5不同匹配阈值下的匹配过程

​	1.5.1激进

​	1.5.2折中

​	1.5.3保守

### 1.6超时匹配下缓冲区中数据的堆积与暂停信号机制

​	1.6.1数据堆积过程

​	1.6.2暂停信号拉高

​	1.6.3得到结果，缓冲区腾空，暂停信号拉低

### 1.7不同分配模式下的匹配机制

​	1.7.1全动态分配

​	1.7.2半动态分配

​	1.7.3静态分配

### 1.8开始传输时Crossbar通道信号的行为

### 1.9SRAM控制器读取Crossbar选通信号并接入SRAM

### 1.10空闲队列的初始灌注与弹出页作为写入地址

​	1.10.1灌注过程

​	1.10.2弹出作为wr_page

### 1.11SRAM写入数据

​	1.11.1切片计数器计数机制

​	1.11.2生成绝对地址

### 1.12ECC编码过程与存储过程

​	1.10.1数据包整除一页

​	1.10.2数据包不整除一页（避免脏数据污染ECC结果）

### 1.13SRAM控制器的尾部预测与入队请求发起

### 1.14主模块时间序列管理

​	1.14.1同时单入队请求

​	1.14.2同时多入队请求

### 1.15入队请求处理

​	1.15.1数据包加入空队列

​	1.15.2数据包加入非空队列

### 1.16拼接请求发起与处理

​	1.16.1拼接请求的发起

​	1.16.2SRAM侧拼接请求受理

### 1.X写入总调试（以下case每个都要测试最长包、最短包、随机长度包）

​	1.X.1单数据包进入模块

​	1.X.2多数据包进入模块（无间隔/随机间隔/固定间隔）

​	1.X.3单端口突发传输数据包至SRAM写满，切换SRAM（无间隔）

​	1.X.4多端口同时单数据包进入模块

​	1.X.5多端口同时多数据包进入模块（无间隔/随机间隔/固定间隔）

​	1.X.6多端口突发传输数据包（大量，至所有SRAM写满）

​		1.X.6.1去向不同端口（相同队列/随机队列）

​		1.X.6.2去向随机端口（随机队列）

​		1.X.6.3去向同一端口（相同队列/随机队列）

## Case.2 读出

## Case.3 读写联合

对拍

